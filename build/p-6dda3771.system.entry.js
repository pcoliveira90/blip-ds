var __awaiter=this&&this.__awaiter||function(t,e,i,n){function s(t){return t instanceof i?t:new i((function(e){e(t)}))}return new(i||(i=Promise))((function(i,r){function o(t){try{l(n.next(t))}catch(e){r(e)}}function a(t){try{l(n["throw"](t))}catch(e){r(e)}}function l(t){t.done?i(t.value):s(t.value).then(o,a)}l((n=n.apply(t,e||[])).next())}))};var __generator=this&&this.__generator||function(t,e){var i={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},n,s,r,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol==="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(t){return function(e){return l([t,e])}}function l(o){if(n)throw new TypeError("Generator is already executing.");while(i)try{if(n=1,s&&(r=o[0]&2?s["return"]:o[0]?s["throw"]||((r=s["return"])&&r.call(s),0):s.next)&&!(r=r.call(s,o[1])).done)return r;if(s=0,r)o=[o[0]&2,r.value];switch(o[0]){case 0:case 1:r=o;break;case 4:i.label++;return{value:o[1],done:false};case 5:i.label++;s=o[1];o=[0];continue;case 7:o=i.ops.pop();i.trys.pop();continue;default:if(!(r=i.trys,r=r.length>0&&r[r.length-1])&&(o[0]===6||o[0]===2)){i=0;continue}if(o[0]===3&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(o[0]===6&&i.label<r[1]){i.label=r[1];r=o;break}if(r&&i.label<r[2]){i.label=r[2];i.ops.push(o);break}if(r[2])i.ops.pop();i.trys.pop();continue}o=e.call(t,i)}catch(a){o=[6,a];s=0}finally{n=r=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:true}}};System.register(["./p-957e4f08.system.js"],(function(t){"use strict";var e,i,n,s;return{setters:[function(t){e=t.r;i=t.c;n=t.h;s=t.g}],execute:function(){var r=".sc-bds-select-chips-h{display:block}.select.sc-bds-select-chips{position:relative;outline:none}.select__icon.sc-bds-select-chips{color:#8ca0b3;display:-ms-flexbox;display:flex}.select__options.sc-bds-select-chips{background:#f8fbfb;width:100%;max-height:250px;position:absolute;top:99%;left:0;border-radius:8px;-webkit-box-shadow:0px 2px 8px rgba(96, 123, 153, 0.3);box-shadow:0px 2px 8px rgba(96, 123, 153, 0.3);overflow-y:auto;z-index:2;margin-top:4px;-webkit-transition:opacity 0.75s, visibility 0.75s, -webkit-transform 0.25s;transition:opacity 0.75s, visibility 0.75s, -webkit-transform 0.25s;transition:transform 0.25s, opacity 0.75s, visibility 0.75s;transition:transform 0.25s, opacity 0.75s, visibility 0.75s, -webkit-transform 0.25s;-webkit-transform-origin:top left;transform-origin:top left;-webkit-transform:scaleY(0);transform:scaleY(0);visibility:hidden;opacity:0;-webkit-box-shadow:0px 2px 12px 0 2px 8px rgba(96, 123, 153, 0.4);box-shadow:0px 2px 12px 0 2px 8px rgba(96, 123, 153, 0.4)}.select__options.sc-bds-select-chips::-webkit-scrollbar{width:16px;background-color:transparent}.select__options.sc-bds-select-chips::-webkit-scrollbar-thumb{border-radius:10px;border:4px solid transparent;border-radius:10px;background-clip:content-box;background-color:#b9cbd3}.select__options--open.sc-bds-select-chips{visibility:visible;-webkit-transform:scale(1);transform:scale(1);opacity:1}";var o=t("bds_select_chips",function(){function t(t){var n=this;e(this,t);this.bdsChange=i(this,"bdsChange",7);this.bdsCancel=i(this,"bdsCancel",7);this.bdsFocus=i(this,"bdsFocus",7);this.bdsBlur=i(this,"bdsBlur",7);this.isOpen=false;this.options=[];this.chips=[];this.newPrefix="";this.value="";this.danger=false;this.errorMessage="";this.disabled=false;this.label="";this.icon="";this.duplicated=false;this.onFocus=function(){n.bdsFocus.emit()};this.onBlur=function(){n.bdsBlur.emit()};this.toggle=function(){if(!n.disabled){n.isOpen=!n.isOpen}};this.handler=function(t){return __awaiter(n,void 0,void 0,(function(){var e,i;return __generator(this,(function(n){switch(n.label){case 0:e=t.detail.value;i=this.getText(e);return[4,this.addChip(i)];case 1:n.sent();return[2]}}))}))};this.getText=function(t){var e=n.childOptions.find((function(e){return e.value===t}));return e.textContent};this.handlerNewOption=function(t){return __awaiter(n,void 0,void 0,(function(){return __generator(this,(function(e){switch(e.label){case 0:return[4,this.addChip(t)];case 1:e.sent();return[2]}}))}))};this.setFocusWrapper=function(){if(n.nativeInput){n.nativeInput.setFocus()}};this.removeFocusWrapper=function(t){var e=t.relatedTarget.localName==="bds-input-chips";if(n.nativeInput&&!e){n.nativeInput.removeFocus()}};this.keyPressWrapper=function(t){var e=t.target.localName==="bds-select";var i=t.target.localName==="bds-input-chips";switch(t.key){case"Enter":if(n.childOptionsEnabled.length===1){n.nativeInput.add(n.childOptionsEnabled[0].textContent)}else{n.nativeInput.add(n.nativeInput.value)}n.nativeInput.value="";if(!n.isOpen&&(e||i)){n.toggle()}break}};this.changedInputValue=function(){return __awaiter(n,void 0,void 0,(function(){return __generator(this,(function(t){switch(t.label){case 0:this.value=this.nativeInput.value;if(!this.nativeInput.value)return[3,2];return[4,this.filterOptions(this.nativeInput.value)];case 1:t.sent();return[3,4];case 2:return[4,this.resetFilterOptions()];case 3:t.sent();t.label=4;case 4:if(this.value&&this.isOpen===false){this.isOpen=true}return[2]}}))}))};this.handleChangeChipsValue=function(){return __awaiter(n,void 0,void 0,(function(){return __generator(this,(function(t){switch(t.label){case 0:this.nativeInput.value="";return[4,this.resetFilterOptions()];case 1:t.sent();return[2]}}))}))}}t.prototype.handleWindow=function(t){if(!this.el.contains(t.target)){this.isOpen=false}};t.prototype.isValid=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,this.nativeInput.isValid()]}))}))};t.prototype.connectedCallback=function(){return __awaiter(this,void 0,void 0,(function(){var t,e,i;return __generator(this,(function(n){for(t=0,e=this.childOptions;t<e.length;t++){i=e[t];i.addEventListener("optionSelected",this.handler)}return[2]}))}))};t.prototype.componentDidLoad=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){switch(t.label){case 0:return[4,this.resetFilterOptions()];case 1:t.sent();return[2]}}))}))};Object.defineProperty(t.prototype,"childOptions",{get:function(){return Array.from(this.el.querySelectorAll("bds-select-option:not(#option-add)"))},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"childOptionsEnabled",{get:function(){return Array.from(this.el.querySelectorAll("bds-select-option:not([invisible]):not(#option-add)"))},enumerable:false,configurable:true});t.prototype.enableCreateOption=function(){return!!(this.childOptionsEnabled.length===0&&this.nativeInput&&this.nativeInput.value)};t.prototype.addChip=function(t){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){switch(e.label){case 0:return[4,this.nativeInput.add(t)];case 1:e.sent();this.nativeInput.value="";this.toggle();return[2]}}))}))};t.prototype.filterOptions=function(t){return __awaiter(this,void 0,void 0,(function(){var e,i,n,s,r,o,a,l;return __generator(this,(function(u){switch(u.label){case 0:if(!!t)return[3,2];return[4,this.resetFilterOptions()];case 1:u.sent();return[2];case 2:e=0,i=this.childOptions;u.label=3;case 3:if(!(e<i.length))return[3,6];n=i[e];r=this.existsChip;o=[n.textContent];return[4,this.nativeInput.get()];case 4:s=r.apply(this,o.concat([u.sent()]));a=n.textContent.toLowerCase();l=t.toLowerCase();if(s){n.setAttribute("invisible","invisible")}if(t&&a.includes(l)&&!s){n.removeAttribute("invisible")}if(t&&!a.includes(l)&&!s){n.setAttribute("invisible","invisible")}u.label=5;case 5:e++;return[3,3];case 6:return[2]}}))}))};t.prototype.resetFilterOptions=function(){return __awaiter(this,void 0,void 0,(function(){var t,e,i,n,s,r;return __generator(this,(function(o){switch(o.label){case 0:t=0,e=this.childOptions;o.label=1;case 1:if(!(t<e.length))return[3,4];i=e[t];n=i.querySelector("bds-typo").textContent;s=this.existsChip;r=[n];return[4,this.nativeInput.get()];case 2:if(s.apply(this,r.concat([o.sent()]))){i.setAttribute("invisible","invisible")}else{i.removeAttribute("invisible")}o.label=3;case 3:t++;return[3,1];case 4:return[2]}}))}))};t.prototype.existsChip=function(t,e){return e.some((function(e){return t===e}))};t.prototype.generateKey=function(t){return t.toLowerCase().replace(/ /g,"-")};t.prototype.render=function(){var t=this;var e=this.isOpen?"arrow-up":"arrow-down";return n("div",{class:"select",tabindex:"0",onFocus:this.setFocusWrapper,onBlur:this.removeFocusWrapper,onKeyPress:this.keyPressWrapper},n("bds-input-chips",{ref:function(e){return t.nativeInput=e},onBdsChangeChips:this.handleChangeChipsValue,onBdsChange:this.changedInputValue,icon:this.icon,label:this.label,onFocus:this.onFocus,onBlur:this.onBlur,maxlength:this.maxlength,onClick:this.toggle,danger:this.danger,"error-message":this.errorMessage,chips:this.chips,"disable-submit":true,duplicated:this.duplicated},n("div",{slot:"input-right",class:"select__icon"},n("bds-icon",{size:"small",name:e,color:"inherit"}))),n("div",{class:{select__options:true,"select__options--open":this.isOpen}},this.options.map((function(e){return n("bds-select-option",{key:t.generateKey(e.value),onOptionSelected:t.handler,value:e.value},e.label)})),n("slot",null),this.enableCreateOption()&&n("bds-select-option",{id:"option-add",value:"add",onClick:function(){return t.handlerNewOption(t.nativeInput.value)}},this.newPrefix,this.nativeInput.value)))};Object.defineProperty(t.prototype,"el",{get:function(){return s(this)},enumerable:false,configurable:true});return t}());o.style=r}}}));